# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH-—Ç—É–Ω–Ω–µ–ª—è –¥–ª—è 3x-UI API

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π SSH-—Ç—É–Ω–Ω–µ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ 3x-UI API –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

## üéØ –¶–µ–ª—å

- ‚úÖ 3x-UI —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ `127.0.0.1` (–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
- ‚úÖ –ë–æ—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API —á–µ—Ä–µ–∑ SSH-—Ç—É–Ω–Ω–µ–ª—å
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## üìã –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 3x-UI –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ 3x-UI —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
ss -tulpn | grep 38868

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 127.0.0.1:38868
# –ï—Å–ª–∏ 0.0.0.0:38868 - –∏–∑–º–µ–Ω–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö 3x-UI
```

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö 3x-UI —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- **Listen IP**: `127.0.0.1` (–Ω–µ `0.0.0.0`)
- **Port**: `38868`

## üîë –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ SSH-–∫–ª—é—á–∞ –¥–ª—è –±–æ—Ç–∞

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∫–ª—é—á–µ–π
mkdir -p ~/fiorevpn/ssh

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ SSH-–∫–ª—é—á (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
ssh-keygen -t ed25519 -f ~/fiorevpn/ssh/x3ui_key -N ""

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å 3x-UI
ssh-copy-id -i ~/fiorevpn/ssh/x3ui_key.pub user@62.133.60.47
```

**–í–∞–∂–Ω–æ**: –ó–∞–º–µ–Ω–∏—Ç–µ `user@62.133.60.47` –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ IP —Å–µ—Ä–≤–µ—Ä–∞ —Å 3x-UI.

## üîí –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å 3x-UI

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/ssh/sshd_config`:

```bash
sudo nano /etc/ssh/sshd_config
```

–î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ:

```
PermitRootLogin no
PasswordAuthentication no
PubkeyAuthentication yes
```

–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ SSH:

```bash
sudo systemctl reload sshd
```

## üõ°Ô∏è –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall

–ó–∞–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç 3x-UI –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

```bash
# –î–ª—è ufw
sudo ufw deny 38868/tcp

# –ò–ª–∏ –¥–ª—è iptables
sudo iptables -A INPUT -p tcp --dport 38868 -j DROP
```

## üê≥ –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ SSH-—Ç—É–Ω–Ω–µ–ª—è –Ω–∞ —Ö–æ—Å—Ç–µ

**–í–ê–ñ–ù–û**: SSH-—Ç—É–Ω–Ω–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω **–Ω–∞ —Ö–æ—Å—Ç–µ**, –∞ –Ω–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∏ —Å–ª—É—à–∞—Ç—å –Ω–∞ **0.0.0.0** (–≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã), —á—Ç–æ–±—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–∑ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### 5.1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SSH-—Ç—É–Ω–Ω–µ–ª—å –Ω–∞ —Ö–æ—Å—Ç–µ:

```bash
# –ù–∞ —Ö–æ—Å—Ç–µ (–Ω–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ!)
# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ñ–æ–Ω–µ –∏ –Ω–µ –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∏—á–µ–≥–æ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
ssh -N \
  -L 0.0.0.0:38868:127.0.0.1:38868 \
  -i ~/fiorevpn/ssh/x3ui_key \
  -o StrictHostKeyChecking=no \
  -o ServerAliveInterval=30 \
  -o ServerAliveCountMax=3 \
  root@62.133.60.47 &

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ PID –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
SSH_TUNNEL_PID=$!
echo "SSH-—Ç—É–Ω–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω —Å PID: $SSH_TUNNEL_PID"
```

**–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç**: `0.0.0.0:38868`, –∞ –Ω–µ `127.0.0.1:38868`!

**–ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```bash
# –ù–∞ —Ö–æ—Å—Ç–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç —Å–ª—É—à–∞–µ—Ç—Å—è –Ω–∞ 0.0.0.0
ss -tulpn | grep 38868
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 0.0.0.0:38868 (–Ω–µ 127.0.0.1:38868!)

# –ò–ª–∏
netstat -tulpn | grep 38868
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `127.0.0.1:38868` –≤–º–µ—Å—Ç–æ `0.0.0.0:38868`, –∑–Ω–∞—á–∏—Ç —Ç—É–Ω–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### 5.2. –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (systemd):

#### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
cd ~/fiorevpn
chmod +x setup-ssh-tunnels.sh
sudo ./setup-ssh-tunnels.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ SSH-–∫–ª—é—á–µ–π
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∫–ª—é—á–∏
- –°–∫–æ–ø–∏—Ä—É–µ—Ç systemd —Å–µ—Ä–≤–∏—Å—ã
- –í–∫–ª—é—á–∏—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- –ó–∞–ø—É—Å—Ç–∏—Ç —Ç—É–Ω–Ω–µ–ª–∏

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–î–ª—è –ø–µ—Ä–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å
sudo cp ~/fiorevpn/systemd/x3ui-tunnel-1.service /etc/systemd/system/

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é
sudo nano /etc/systemd/system/x3ui-tunnel-1.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=SSH Tunnel to 3x-UI Server 1
After=network.target

[Service]
Type=simple
User=root
ExecStart=/usr/bin/ssh -N -L 0.0.0.0:38868:127.0.0.1:38868 -i /root/fiorevpn/ssh/x3ui_key -o StrictHostKeyChecking=no -o ServerAliveInterval=30 -o ServerAliveCountMax=3 root@62.133.60.47
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

**–î–ª—è –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:**

1. –°–æ–∑–¥–∞–π—Ç–µ –≤—Ç–æ—Ä–æ–π SSH-–∫–ª—é—á (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π):
   ```bash
   ssh-keygen -t ed25519 -f ~/fiorevpn/ssh/x3ui_key_2 -N ""
   ssh-copy-id -i ~/fiorevpn/ssh/x3ui_key_2.pub root@SECOND_SERVER_IP
   chmod 600 ~/fiorevpn/ssh/x3ui_key_2
   ```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/fiorevpn/systemd/x3ui-tunnel-2.service`:
   - –ó–∞–º–µ–Ω–∏—Ç–µ `SECOND_SERVER_IP` –Ω–∞ IP –≤—Ç–æ—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –Ω–∞ —Ö–æ—Å—Ç–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `38869`)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ SSH-–∫–ª—é—á—É

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   sudo cp ~/fiorevpn/systemd/x3ui-tunnel-2.service /etc/systemd/system/
   sudo systemctl daemon-reload
   sudo systemctl enable x3ui-tunnel-2
   sudo systemctl start x3ui-tunnel-2
   sudo systemctl status x3ui-tunnel-2
   ```

**–ó–∞–ø—É—Å–∫ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**

```bash
sudo systemctl daemon-reload
sudo systemctl enable x3ui-tunnel-1
sudo systemctl start x3ui-tunnel-1
sudo systemctl status x3ui-tunnel-1

# –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤—Ç–æ—Ä–æ–π —Ç—É–Ω–Ω–µ–ª—å
sudo systemctl enable x3ui-tunnel-2
sudo systemctl start x3ui-tunnel-2
sudo systemctl status x3ui-tunnel-2
```

### 5.3. –û–±–Ω–æ–≤–∏—Ç–µ URL API –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑–º–µ–Ω–∏—Ç–µ:
- **–ë—ã–ª–æ**: `https://62.133.60.47:38868/YZELkBZQalymmcL2aP/panel/api`
- **–°—Ç–∞–ª–æ**: `http://127.0.0.1:38868/YZELkBZQalymmcL2aP/panel/api`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω–∏—Ç `127.0.0.1` –Ω–∞ `host.docker.internal` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

–ò–ª–∏ —á–µ—Ä–µ–∑ SQL:

```sql
UPDATE servers 
SET x3ui_api_url = REPLACE(x3ui_api_url, 'https://62.133.60.47:38868', 'http://127.0.0.1:38868')
WHERE x3ui_api_url LIKE '%62.133.60.47:38868%';
```

## üöÄ –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
cd ~/fiorevpn
git pull
docker compose -f docker-compose.prod.yml up -d --build
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ö–æ—Å—Ç–µ
ss -tulpn | grep 38868
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 0.0.0.0:38868 (–Ω–µ 127.0.0.1!)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç - –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
docker compose -f docker-compose.prod.yml exec core curl -s http://host.docker.internal:38868/panel/api/inbounds/list

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞ (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTTP –∫–æ–¥, –Ω–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
docker compose -f docker-compose.prod.yml exec core curl -s -o /dev/null -w "%{http_code}" http://host.docker.internal:38868
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∫–æ–¥ (200, 401, 403 –∏ —Ç.–¥.), –∞ –Ω–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

**–ï—Å–ª–∏ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- –ù–∞ —Ö–æ—Å—Ç–µ: `0.0.0.0:38868` ‚úÖ
- –ò–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: curl –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP –∫–æ–¥ (–Ω–µ –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è) ‚úÖ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å ‚úÖ

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—É–Ω–Ω–µ–ª—è:

```bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ core
docker compose -f docker-compose.prod.yml exec core curl -s http://127.0.0.1:38868/panel/api/inbounds/list
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –°–Ω–∞—Ä—É–∂–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
curl http://62.133.60.47:38868
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å timeout –∏–ª–∏ connection refused
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –¢—É–Ω–Ω–µ–ª—å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   docker compose -f docker-compose.prod.yml exec core env | grep X3UI_SSH
   ```
   –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - `X3UI_SSH_HOST=62.133.60.47`
   - `X3UI_SSH_USER=your_ssh_user`
   - `X3UI_SSH_KEY=/ssh/x3ui_key`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∫–ª—é—á –Ω–∞ —Ö–æ—Å—Ç–µ:**
   ```bash
   chmod 600 ssh/x3ui_key
   ls -la ssh/x3ui_key
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å 3x-UI:**
   ```bash
   ssh -i ssh/x3ui_key user@62.133.60.47 "echo 'OK'"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
   ```bash
   docker compose -f docker-compose.prod.yml logs core | grep -i "ssh\|—Ç—É–Ω–Ω–µ–ª—å"
   ```
   
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH-—Ç—É–Ω–Ω–µ–ª—è –∫ 3x-UI...
   üìã SSH-–∫–ª—é—á –Ω–∞–π–¥–µ–Ω: /ssh/x3ui_key
   üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...
   ‚úÖ SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ
   üöÄ –ó–∞–ø—É—Å–∫ SSH-—Ç—É–Ω–Ω–µ–ª—è...
   ‚úÖ SSH-—Ç—É–Ω–Ω–µ–ª—å –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ—Ä—Ç 38868 —Å–ª—É—à–∞–µ—Ç—Å—è
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   docker compose -f docker-compose.prod.yml exec core netstat -tuln | grep 38868
   # –∏–ª–∏
   docker compose -f docker-compose.prod.yml exec core ss -tuln | grep 38868
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å
   docker compose -f docker-compose.prod.yml exec core curl -s http://127.0.0.1:38868/panel/api/inbounds/list
   ```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å autossh:**
   ```bash
   docker compose -f docker-compose.prod.yml exec core ps aux | grep autossh
   ```

### API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –≤ –ë–î –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ `http://127.0.0.1:38868`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ 3x-UI —Å–ª—É—à–∞–µ—Ç –Ω–∞ `127.0.0.1:38868`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
   ```bash
   docker compose -f docker-compose.prod.yml exec core netstat -tuln | grep 38868
   ```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- SSH-—Ç—É–Ω–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±—Ä—ã–≤–µ (–±–ª–∞–≥–æ–¥–∞—Ä—è `autossh`)
- –ö–ª—é—á –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`:ro`)
- –ï—Å–ª–∏ SSH-—Ç—É–Ω–Ω–µ–ª—å –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ (–±–µ–∑ —Ç—É–Ω–Ω–µ–ª—è)

